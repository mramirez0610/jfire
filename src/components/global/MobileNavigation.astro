---
const currentPath = Astro.url?.pathname ?? "/";
const links = [
  { href: "/", label: "Home" },
  { href: "/blog/", label: "Blog" },
  { href: "/coaching/", label: "Coaching" },
  { href: "/merch/", label: "Merch" },
  { href: "/innerFire/", label: "Inner Fire" },
  { href: "/tags/", label: "Tags" },
  { href: "/about/", label: "About" },
];

const isActive = (href: string) =>
  currentPath === href || currentPath === href.replace(/\/$/, "");
---

<nav id="mobile-nav" class="mobile-nav">
  {
    links.map((link) => (
      <a
        href={link.href}
        class={isActive(link.href) ? "active" : ""}
        aria-current={isActive(link.href) ? "page" : undefined}
      >
        {link.label}
      </a>
    ))
  }
</nav>

<style lang="scss">
  @use "../../styles/all" as *;
  .mobile-nav {
    visibility: hidden;
    pointer-events: none;
    display: none;

    // min-width: 50%;
    // height: auto;

    background-color: red;
    z-index: 10;
    gap: 2vw;

    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    flex-direction: column;

    a {
      text-decoration: none;
      color: $black;

      background-color: $white;
      padding: 0.35rem 1rem;
      border-radius: 5px;
    }

    a.active {
      font-weight: 700;
      box-shadow: 0 0 0 2px $black inset;
    }
  }

  @media (max-width: 768px) {
    .mobile-nav {
      visibility: visible;
      pointer-events: all;

      display: flex;
      justify-content: center;
      align-items: center;
    }
  }
</style>
