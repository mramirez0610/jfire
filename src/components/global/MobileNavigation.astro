---
const currentPath = Astro.url?.pathname ?? "/";
const links = [
  { href: "/", label: "Home" },
  { href: "/blog/", label: "Blog" },
  { href: "/coaching/", label: "Coaching" },
  { href: "/merch/", label: "Merch" },
  { href: "/innerFire/", label: "Inner Fire" },
  //nest tags under blog
  //   { href: "/tags/", label: "Tags" },
  //delete about
  //   { href: "/about/", label: "About" },
];

const isActive = (href: string) =>
  currentPath === href || currentPath === href.replace(/\/$/, "");
---

<style lang="scss">
  @use "../../styles/all" as *;
  .mobile-nav {
    visibility: hidden;
    pointer-events: none;
    display: none;
    background-color: $orange;
    z-index: 10;
    gap: 2vw;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;

    .mobile-links {
      margin: 0 auto;
      width: 85%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;

      h1 {
        color: $white;
        font-size: 8ch;
        letter-spacing: 0.02em;
        line-height: 0.95;
      }

      a {
        text-decoration: none;
        color: $white;
        padding: 0.35rem 1rem;
        font-size: 4ch;
        border-radius: 5px;
      }

      a.active {
        font-weight: 700;
        box-shadow: 0 0 0 2px $white inset;
      }
    }
  }

  @media (max-width: 768px) {
    .mobile-nav {
      visibility: visible;
      pointer-events: all;
      display: none;
    }
  }
</style>

<section id="mobile-nav" class="mobile-nav">
  <nav class="mobile-links">
    <h1>where to?</h1>
    {
      links.map((link) => (
        <a
          href={link.href}
          class={isActive(link.href) ? "active" : ""}
          aria-current={isActive(link.href) ? "page" : undefined}
        >
          {link.label}
        </a>
      ))
    }
  </nav>
</section>
