---
const currentPath = Astro.url?.pathname ?? "/";
const links = [
  { href: "/", label: "Home" },
  { href: "/blog/", label: "Blog" },
  { href: "/coaching/", label: "Coaching" },
  { href: "/merch/", label: "Merch" },
  { href: "/innerFire/", label: "Inner Fire" },
  //nest tags under blog
  //   { href: "/tags/", label: "Tags" },
  //delete about
  //   { href: "/about/", label: "About" },
];

const isActive = (href: string) =>
  currentPath === href || currentPath === href.replace(/\/$/, "");
---

<style lang="scss">
  @use "../../styles/all" as *;
  .nav {
    min-width: 50%;
    height: auto;
    gap: 2vw;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    margin-right: 4vw;

    a {
      text-decoration: none;
      color: $orange;

      background-color: $white;
      padding: 0.35rem 1rem;
      border-radius: 5px;
    }

    a.active {
      font-weight: 700;
      box-shadow: 0 0 0 2px $black inset;
    }
  }

  @media (max-width: 768px) {
    .nav {
      visibility: hidden;
      pointer-events: none;
      display: none;
    }
  }
</style>

<nav id="nav" class="nav">
  {
    links.map((link) => (
      <a
        href={link.href}
        class={isActive(link.href) ? "active" : ""}
        aria-current={isActive(link.href) ? "page" : undefined}
      >
        {link.label}
      </a>
    ))
  }
</nav>
